<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sneaker Online Store</title>
  <link rel="stylesheet" href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" />

  <style>
    @font-face {
      font-family: 'Poppins';
      src: url('/assets/fonts/Poppins-Regular.ttf') format('truetype');
      font-weight: 400;
    }

    @font-face {
      font-family: 'Poppins';
      src: url('/assets/fonts/Poppins-Medium.ttf') format('truetype');
      font-weight: 500;
    }

    @font-face {
      font-family: 'Poppins';
      src: url('/assets/fonts/Poppins-SemiBold.ttf') format('truetype');
      font-weight: 600;
    }

    @font-face {
      font-family: 'Poppins';
      src: url('/assets/fonts/Poppins-Bold.ttf') format('truetype');
      font-weight: 700;
    }

    * {
      font-family: 'Poppins', sans-serif;
      margin: 0;
      padding: 0;
      scroll-padding-top: 2rem;
      scroll-behavior: smooth;
      box-sizing: border-box;
      list-style: none;
      text-decoration: none;
    }

    :root {
      --main-color: #DF3E55;
      --text-color: #120E38;
      --bg-color: #fff;
    }

    body {
      color: var(--text-color);
      background: var(--bg-color);
    }

    .container {
      max-width: 1068px;
      margin: auto;
      width: 100%;
    }

    section {
      padding: 4rem 0 3rem;
    }

    header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: var(--bg-color);
      box-shadow: 0 1px 4px hsl(0 4% 15% / 10%);
      z-index: 100;
    }

    .nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 20px 0;
    }

    .logo {
      font-size: 1.1rem;
      color: var(--text-color);
    }

    #cart-icon {
      font-size: 1.8rem;
      cursor: pointer;
    }

    .cart {
      position: fixed;
      top: 0;
      right: -100%;
      width: 360px;
      min-height: 100vh;
      padding: 20px;
      background: var(--bg-color);
      box-shadow: -2px 0 4px hsl(0 4% 15% / 10%);
      transition: 0.3s;
    }

    .cart.active {
      right: 0;
    }

    .cart-title {
      text-align: center;
      font-size: 1.5rem;
      font-weight: 600;
      margin-top: 2rem;
    }

    .cart-box {
      display: grid;
      grid-template-columns: 32% 50% 18%;
      align-items: center;
      gap: 1rem;
      margin-top: 1rem;
    }

    .cart-img {
      width: 100px;
      height: 100px;
      object-fit: contain;
      padding: 10px;
    }

    .detail-box {
      display: grid;
      row-gap: 0.5rem;
    }

    .cart-product-title {
      font-size: 1rem;
      text-transform: uppercase;
    }

    .cart-price {
      font-weight: 500;
    }

    .cart-quantity {
      border: 1px solid var(--text-color);
      width: 2.4rem;
      text-align: center;
      font-size: 1rem;
    }

    .cart-remove {
      font-size: 24px;
      color: var(--main-color);
      cursor: pointer;
    }

    .total {
      display: flex;
      justify-content: flex-end;
      margin-top: 1.5rem;
      border-top: 1px solid var(--text-color);
    }

    .total-title,
    .total-price {
      margin-top: 0.5rem;
      font-size: 1rem;
      font-weight: 600;
    }

    .total-price {
      margin-left: 0.5rem;
    }

    .btn-buy {
      display: flex;
      margin: 1.5rem auto 0 auto;
      padding: 12px 20px;
      border: none;
      background: var(--main-color);
      color: var(--bg-color);
      font-size: 1rem;
      font-weight: 500;
      cursor: pointer;
    }

    .btn-buy:hover {
      background: var(--text-color);
    }

    #close-cart {
      position: absolute;
      top: 1rem;
      right: 0.8rem;
      font-size: 2rem;
      color: var(--text-color);
      cursor: pointer;
    }

    .section-title {
      font-size: 1.5rem;
      font-weight: 600;
      text-align: center;
      margin-bottom: 1.5rem;
    }

    .shop {
      margin-top: 2rem;
    }

    .shop-content {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, auto));
      gap: 1.5rem;
    }

    .product-box {
      position: relative;
    }

    .product-box:hover {
      padding: 10px;
      border: 1px solid var(--text-color);
      transition: 0.4s;
    }

    .product-img {
      width: 100%;
      height: auto;
      margin-bottom: 0.5rem;
    }

    .product-title {
      font-size: 1.1rem;
      font-weight: 600;
      text-transform: uppercase;
      margin-bottom: 0.5rem;
    }

    .price {
      font-weight: 500;
    }

    .add-cart {
      position: absolute;
      right: 0;
      bottom: 0;
      background: var(--text-color);
      color: var(--bg-color);
      padding: 10px;
      cursor: pointer;
    }

    .add-cart:hover {
      background: hsl(249, 32%, 17%);
    }
  </style>
</head>

<body>
  <header>
    <div class="nav container">
      <a href="#" class="logo">Simple Store</a>
      <i class="bx bx-shopping-bag" id="cart-icon"></i>
      <div class="cart">
        <i class="bx bx-x" id="close-cart"></i>
        <h2 class="cart-title">Your Cart</h2>
        <div class="cart-content"></div>
        <div class="total">
          <div class="total-title">Total:</div>
          <div class="total-price">0,00 €</div>
        </div>
        <button type="button" class="btn-buy">Buy Now</button>
      </div>
    </div>
  </header>

  <section class="shop container">
    <h2 class="section-title">Shop Products</h2>
    <div class="shop-content">
      <!-- Product 1 -->
      <div class="product-box">
        <img src="https://via.placeholder.com/200" alt="Product 1" class="product-img">
        <h2 class="product-title">Product 1</h2>
        <span class="price">10,99 €</span>
        <i class="bx bx-shopping-bag add-cart"></i>
      </div>
      <!-- Product 2 -->
      <div class="product-box">
        <img src="https://via.placeholder.com/200" alt="Product 2" class="product-img">
        <h2 class="product-title">Product 2</h2>
        <span class="price">14,49 €</span>
        <i class="bx bx-shopping-bag add-cart"></i>
      </div>
    </div>
  </section>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const cartIcon = document.querySelector('#cart-icon');
      const cart = document.querySelector('.cart');
      const closeCart = document.querySelector('#close-cart');

      cartIcon.addEventListener('click', () => cart.classList.add('active'));
      closeCart.addEventListener('click', () => cart.classList.remove('active'));

      const initCartFunctions = () => {
        document.querySelectorAll('.cart-remove').forEach(button => {
          button.addEventListener('click', removeCartItem);
        });

        document.querySelectorAll('.cart-quantity').forEach(input => {
          input.addEventListener('change', quantityChanged);
        });

        document.querySelectorAll('.add-cart').forEach(button => {
          button.addEventListener('click', addCartClicked);
        });

        document.querySelector('.btn-buy').addEventListener('click', buyButtonClicked);
      };

      initCartFunctions();

      function buyButtonClicked() {
        const cartContent = document.querySelector('.cart-content');
        if (!cartContent.hasChildNodes()) {
          alert('Your cart is empty');
        } else {
          alert('Order successfully placed');
          cartContent.innerHTML = '';
          document.querySelector('.total-price').innerText = '0,00 €';
        }
      }

      function removeCartItem(event) {
        event.target.closest('.cart-box').remove();
        updateTotalPrice();
      }

      function quantityChanged(event) {
        const input = event.target;
        if (isNaN(input.value) || input.value <= 0) {
          input.value = 1;
        }
        updateTotalPrice();
      }

      let isAddingToCart = false;

      function addCartClicked(event) {
        isAddingToCart = true;
        const shopProduct = event.target.closest('.product-box');
        const title = shopProduct.querySelector('.product-title').innerText;
        const price = shopProduct.querySelector('.price').innerText;
        const imgSrc = shopProduct.querySelector('.product-img').src;
        addProductToCart(title, price, imgSrc);
        updateTotalPrice();
        setTimeout(() => isAddingToCart = false, 100);
      }

      function addProductToCart(title, price, imgSrc) {
        const cartItems = document.querySelector('.cart-content');
        const existingItems = cartItems.querySelectorAll('.cart-product-title');
        if ([...existingItems].some(item => item.innerText === title)) {
          alert('This item is already in your cart');
          return;
        }

        const cartBox = document.createElement('div');
        cartBox.classList.add('cart-box');
        cartBox.innerHTML = `
          <img src="${imgSrc}" alt="${title}" class="cart-img">
          <div class="detail-box">
            <div class="cart-product-title">${title}</div>
            <div class="cart-price">${price}</div>
            <input type="number" value="1" class="cart-quantity">
          </div>
          <i class="bx bxs-trash-alt cart-remove"></i>
        `;

        cartItems.appendChild(cartBox);
        cartBox.querySelector('.cart-remove').addEventListener('click', removeCartItem);
        cartBox.querySelector('.cart-quantity').addEventListener('change', quantityChanged);
        cart.classList.add('active');
      }

      function updateTotalPrice() {
        const cartBoxes = document.querySelectorAll('.cart-box');
        let total = 0;
        cartBoxes.forEach(cartBox => {
          const price = parseFloat(cartBox.querySelector('.cart-price').innerText.replace('€', '').replace(',', '.'));
          const quantity = parseInt(cartBox.querySelector('.cart-quantity').value);
          total += price * quantity;
        });
        document.querySelector('.total-price').innerText = `${total.toFixed(2).replace('.', ',')} €`;
      }

      document.addEventListener('click', (event) => {
        if (!cart.contains(event.target) && !cartIcon.contains(event.target) && !isAddingToCart && cart.classList.contains('active')) {
          cart.classList.remove('active');
        }
      });
    });
  </script>
</body>

</html>
